{
  "type": "srcds",
  "display": "7 Days to Die",
  "icon": "7days2die",
  "install": [
    {
      "if": "env == 'host'",
      "type": "steamgamedl",
      "appId": "294420"
    },
    {
      "if": "env == 'docker'",
      "type": "command",
      "commands": [
        "steamcmd +force_install_dir /pufferpanel +login anonymous +app_update 294420 +quit"
      ]
    },
    {
      "if": "os != 'windows'",
      "type": "command",
      "commands": [
        "chmod +x 7DaysToDieServer.x86_64"
      ]
    }
  ],
  "run": {
    "command": [
      {
        "command": "./7DaysToDieServer.exe -quit -batchmode -nographics -dedicated -configfile=serverconfig.xml",
        "if": "os == 'windows'"
      },
      {
        "command": "./7DaysToDieServer.x86_64 -quit -batchmode -nographics -dedicated -configfile=serverconfig.xml"
      }
    ],
    "stop": "shutdown",
    "environmentVars": {
      "LD_LIBRARY_PATH": "./linux64:$LD_LIBRARY_PATH"
    },
    "stdin": {
      "type": "telnet",
      "port": "8081"
    },
    "autostart": false,
    "autorecover": false,
    "autorestart": false
  },
  "environment": {
    "type": "host"
  },
  "supportedEnvironments": [
    {
      "type": "host"
    },
    {
      "type": "docker",
      "image": "steamcmd/steamcmd",
      "portBindings": [
        "26900:26900/tcp"
      ]
    }
  ],
  "requirements": {
    "arch": "amd64"
  }
}
