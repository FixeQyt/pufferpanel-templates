{
  "type": "voice",
  "display": "Teamspeak 3",
  "data": {
    "eula": {
      "type": "option",
      "value": "0",
      "display": "EULA",
      "desc": "Do you accept the Teamspeak EULA? 1 = Yes, 0 = No.",
      "required": true,
      "userEdit": false,
      "options": [
        {
          "value": "0",
          "display": "No"
        },
        {
          "value": "1",
          "display": "Yes"
        }
      ]
    },
    "ftport": {
      "type": "integer",
      "value": 30033,
      "display": "Port Number",
      "desc": "What Port do you want your file transfer server to run on?",
      "required": false,
      "userEdit": false
    },
    "ip": {
      "type": "string",
      "value": "0.0.0.0",
      "display": "IP Address",
      "desc": "What IP do you want your voice server to run on?",
      "required": false,
      "userEdit": false
    },
    "license": {
      "type": "string",
      "value": "",
      "display": "License Path",
      "desc": "The absolute path to your license file.",
      "required": false,
      "userEdit": true
    },
    "qport": {
      "type": "string",
      "value": "10011",
      "display": "Port Number",
      "desc": "What Port do you want your query server to run on?",
      "required": false,
      "userEdit": false
    },
    "version": {
      "type": "string",
      "value": "3.13.7",
      "display": "Version",
      "desc": "What version of Teamspeak do you want to use?",
      "required": true,
      "userEdit": true
    },
    "vport": {
      "type": "integer",
      "value": 9987,
      "display": "Port Number",
      "desc": "What Port do you want your voice server to run on?",
      "required": false,
      "userEdit": false
    }
  },
  "install": [
    {
      "type": "download",
      "files": [
        "https://files.teamspeak-services.com/releases/server/${version}/teamspeak3-server_linux_amd64-${version}.tar.bz2"
      ]
    },
    {
      "type": "command",
      "commands": [
        "tar -xjf teamspeak3-server_linux_amd64-${version}.tar.bz2 --strip-components 1",
        "rm teamspeak3-server_linux_amd64-${version}.tar.bz2"
      ]
    }
  ],
  "run": {
    "command": "./ts3server_minimal_runscript.sh default_voice_port=${vport} query_port=${qport} filetransfer_port=${ftport} voice_ip=${ip} licensepath=${license} license_accepted=${eula}",
    "stopCode": 2,
    "stdin": {
      "type": "stdin"
    },
    "autostart": false,
    "autorecover": false,
    "autorestart": false
  },
  "environment": {
    "type": "host"
  },
  "supportedEnvironments": [
    {
      "type": "host"
    },
    {
      "type": "docker",
      "image": "ubuntu",
      "portBindings": [
        "${ftport}:${ftport}/tcp",
        "${vport}:${vport}/tcp",
        "${qport}:${qport}/tcp"
      ]
    }
  ],
  "requirements": {
    "os": "linux",
    "arch": "amd64",
    "binaries": [
      "tar"
    ]
  }
}